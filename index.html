<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Mock Test</title>
    <!-- Font Awesome for modern icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #f94144;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 12px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Login Page */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: white;
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 100%;
            max-width: 420px;
            text-align: center;
            animation: slideUp 0.6s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .logo-text {
            font-family: 'Poppins', sans-serif;
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
        }

        .tagline {
            color: var(--gray);
            margin-bottom: 30px;
            font-size: 14px;
        }

        .input-group {
            position: relative;
            margin-bottom: 20px;
        }

        .input-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        input {
            width: 100%;
            padding: 15px 15px 15px 45px;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            font-size: 16px;
            transition: var(--transition);
        }

        input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }

        .divider {
            margin: 30px 0;
            position: relative;
            text-align: center;
            color: var(--gray);
        }

        .divider:before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 45%;
            height: 1px;
            background: var(--light-gray);
        }

        .divider:after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            width: 45%;
            height: 1px;
            background: var(--light-gray);
        }

        /* Main Menu */
        .main-container {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--dark);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .menu-card {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .menu-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .menu-icon {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .menu-title {
            font-family: 'Poppins', sans-serif;
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .menu-desc {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 20px;
        }

        /* Passage Selection */
        .selection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .passage-card {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .passage-card:hover {
            transform: translateY(-3px);
            border-color: var(--primary);
        }

        .passage-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 50%;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .passage-title {
            font-family: 'Poppins', sans-serif;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .passage-meta {
            display: flex;
            justify-content: space-between;
            color: var(--gray);
            font-size: 14px;
            margin-top: 15px;
        }

        /* Reading Interface */
        .reading-interface {
            display: none;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .reading-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
        }

        .timer.warning {
            background: rgba(248, 150, 30, 0.2);
            color: #ffd166;
        }

        .timer.danger {
            background: rgba(249, 65, 68, 0.2);
            color: #ffa8a9;
        }

        .reading-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }

        @media (max-width: 768px) {
            .reading-content {
                grid-template-columns: 1fr;
            }
        }

        .passage-container {
            border-right: 2px solid var(--light-gray);
            padding-right: 30px;
        }

        @media (max-width: 768px) {
            .passage-container {
                border-right: none;
                border-bottom: 2px solid var(--light-gray);
                padding-right: 0;
                padding-bottom: 30px;
            }
        }

        .questions-container {
            overflow-y: auto;
        }

        .passage-text {
            font-size: 16px;
            line-height: 1.8;
            color: #333;
        }

        .passage-text p {
            margin-bottom: 20px;
        }

        .question-group {
            margin-bottom: 30px;
        }

        .question-title {
            font-family: 'Poppins', sans-serif;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark);
            padding-bottom: 8px;
            border-bottom: 2px solid var(--light-gray);
        }

        .question-item {
            margin-bottom: 15px;
            padding: 15px;
            background: var(--light);
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        .question-number {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .radio-group {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: var(--transition);
        }

        .radio-group:hover {
            background: rgba(67, 97, 238, 0.1);
        }

        .radio-group input[type="radio"] {
            display: none;
        }

        .custom-radio {
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray);
            border-radius: 50%;
            position: relative;
            transition: var(--transition);
        }

        .radio-group input[type="radio"]:checked + .custom-radio {
            border-color: var(--primary);
        }

        .radio-group input[type="radio"]:checked + .custom-radio:after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: var(--primary);
            border-radius: 50%;
        }

        .radio-label {
            font-size: 15px;
            color: var(--dark);
        }

        .text-input {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            font-size: 15px;
            transition: var(--transition);
        }

        .text-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .submit-section {
            padding: 20px 30px;
            background: var(--light);
            border-top: 2px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-bar {
            flex-grow: 1;
            height: 8px;
            background: var(--light-gray);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: var(--border-radius);
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: slideUp 0.3s ease;
        }

        .modal-icon {
            font-size: 64px;
            color: var(--success);
            margin-bottom: 20px;
        }

        .modal-title {
            font-family: 'Poppins', sans-serif;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .modal-text {
            color: var(--gray);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        /* Back button */
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 6px;
            transition: var(--transition);
        }

        .back-button:hover {
            background: rgba(67, 97, 238, 0.1);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1001;
            transform: translateX(150%);
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            font-size: 24px;
            color: var(--success);
        }

        .notification.error .notification-icon {
            color: var(--danger);
        }

        /* Loading */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            z-index: 1002;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 20px;
        }

        .loading.show {
            display: flex;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--light-gray);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Utility classes */
        .hidden {
            display: none !important;
        }

        .show {
            display: block !important;
        }

        .flex {
            display: flex !important;
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="login-card">
            <div class="logo">
                <i class="fas fa-book-open"></i>
            </div>
            <h1 class="logo-text">IELTS Reading Pro</h1>
            <p class="tagline">Master IELTS Reading with Smart Mock Tests</p>
            
            <div class="input-group">
                <i class="input-icon fas fa-user"></i>
                <input type="text" id="username" placeholder="Enter your name" required>
            </div>
            
            <div class="input-group">
                <i class="input-icon fas fa-envelope"></i>
                <input type="email" id="email" placeholder="Enter your email" required>
            </div>
            
            <button class="btn btn-primary" onclick="login()">
                <i class="fas fa-sign-in-alt"></i> Start Practicing
            </button>
            
            <div class="divider">or</div>
            
            <p style="color: var(--gray); font-size: 14px; margin-top: 20px;">
                <i class="fas fa-info-circle"></i> No password required. Your progress will be tracked.
            </p>
        </div>
    </div>

    <!-- Main Menu -->
    <div class="container main-container" id="mainMenu">
        <div class="header">
            <div>
                <h1 style="font-family: 'Poppins', sans-serif; font-size: 24px; font-weight: 700; color: var(--dark);">
                    IELTS Reading Mock Tests
                </h1>
                <p style="color: var(--gray); font-size: 14px; margin-top: 5px;">
                    Select your practice mode
                </p>
            </div>
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">U</div>
                <div>
                    <div style="font-weight: 600;" id="userName">User</div>
                    <div style="font-size: 12px; color: var(--gray);">IELTS Candidate</div>
                </div>
            </div>
        </div>

        <div class="menu-grid">
            <div class="menu-card" onclick="showPassageSelection()">
                <div class="menu-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <h2 class="menu-title">Individual Passages</h2>
                <p class="menu-desc">Practice with single reading passages one at a time</p>
                <button class="btn btn-secondary">
                    <i class="fas fa-play"></i> Start Practice
                </button>
            </div>

            <div class="menu-card" onclick="startFullReading()">
                <div class="menu-icon">
                    <i class="fas fa-clipboard-list"></i>
                </div>
                <h2 class="menu-title">Full Reading Test</h2>
                <p class="menu-desc">Complete 3-passage test with 60-minute timer</p>
                <button class="btn btn-secondary">
                    <i class="fas fa-hourglass-start"></i> Start Test
                </button>
            </div>
        </div>

        <div style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--box-shadow);">
            <h3 style="font-family: 'Poppins', sans-serif; font-size: 18px; font-weight: 600; margin-bottom: 15px; color: var(--dark);">
                <i class="fas fa-chart-line"></i> Your Progress
            </h3>
            <div style="display: flex; gap: 30px;">
                <div style="text-align: center;">
                    <div style="font-size: 32px; font-weight: 700; color: var(--primary);">0</div>
                    <div style="font-size: 14px; color: var(--gray);">Tests Completed</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 32px; font-weight: 700; color: var(--secondary);">0%</div>
                    <div style="font-size: 14px; color: var(--gray);">Average Score</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 32px; font-weight: 700; color: var(--accent);">00:00</div>
                    <div style="font-size: 14px; color: var(--gray);">Time Practiced</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Passage Selection -->
    <div class="container hidden" id="passageSelection">
        <button class="back-button" onclick="showMainMenu()">
            <i class="fas fa-arrow-left"></i> Back to Menu
        </button>
        
        <h1 style="font-family: 'Poppins', sans-serif; font-size: 28px; font-weight: 700; margin: 20px 0; color: var(--dark);">
            Select a Passage
        </h1>
        <p style="color: var(--gray); margin-bottom: 30px;">
            Choose one passage to practice. Each passage has 13-14 questions.
        </p>

        <div class="selection-grid">
            <div class="passage-card" onclick="startPassage(1)">
                <div class="passage-number">1</div>
                <h3 class="passage-title">Building a New Future</h3>
                <p style="color: var(--gray); font-size: 14px; line-height: 1.6;">
                    Agriculture in New Zealand has changed over time, some buildings once associated with farming have found new uses.
                </p>
                <div class="passage-meta">
                    <span><i class="fas fa-clock"></i> 20 min</span>
                    <span><i class="fas fa-question-circle"></i> 13 questions</span>
                </div>
            </div>

            <div class="passage-card" onclick="startPassage(2)">
                <div class="passage-number">2</div>
                <h3 class="passage-title">The History of Glass</h3>
                <p style="color: var(--gray); font-size: 14px; line-height: 1.6;">
                    From ancient civilizations to modern technology, the story of glass manufacturing and its impact on society.
                </p>
                <div class="passage-meta">
                    <span><i class="fas fa-clock"></i> 20 min</span>
                    <span><i class="fas fa-question-circle"></i> 13 questions</span>
                </div>
            </div>

            <div class="passage-card" onclick="startPassage(3)">
                <div class="passage-number">3</div>
                <h3 class="passage-title">Climate Change & Coral Reefs</h3>
                <p style="color: var(--gray); font-size: 14px; line-height: 1.6;">
                    The impact of climate change on marine ecosystems, focusing on coral bleaching and conservation efforts.
                </p>
                <div class="passage-meta">
                    <span><i class="fas fa-clock"></i> 20 min</span>
                    <span><i class="fas fa-question-circle"></i> 14 questions</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Reading Interface -->
    <div class="container reading-interface" id="readingInterface">
        <div class="reading-header">
            <div style="display: flex; align-items: center; gap: 15px;">
                <button class="back-button" onclick="exitReading()" style="color: white; border: 1px solid rgba(255,255,255,0.3);">
                    <i class="fas fa-arrow-left"></i> Exit
                </button>
                <div>
                    <h2 id="passageTitle" style="font-family: 'Poppins', sans-serif; font-size: 20px; font-weight: 600;">Building a New Future</h2>
                    <p style="font-size: 14px; opacity: 0.9;">IELTS Academic Reading</p>
                </div>
            </div>
            <div class="timer" id="timer">
                <i class="fas fa-clock"></i>
                <span id="timeDisplay">20:00</span>
            </div>
        </div>

        <div class="reading-content">
            <!-- Passage Container -->
            <div class="passage-container">
                <div class="passage-text" id="passageText">
                    <!-- Passage content will be inserted here -->
                </div>
            </div>

            <!-- Questions Container -->
            <div class="questions-container">
                <div class="question-group">
                    <h3 class="question-title">Questions 1-5</h3>
                    <p style="color: var(--gray); font-size: 14px; margin-bottom: 15px;">
                        Do the following statements agree with the information given in the Reading Passage?
                    </p>
                    
                    <div class="question-item">
                        <div class="question-number">1. Many of the Europeans who first settled in the Taranaki region of New Zealand were descended from dairy farmers.</div>
                        <div class="answer-options">
                            <label class="radio-group">
                                <input type="radio" name="q1" value="TRUE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">TRUE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q1" value="FALSE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">FALSE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q1" value="NOT GIVEN">
                                <span class="custom-radio"></span>
                                <span class="radio-label">NOT GIVEN</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-item">
                        <div class="question-number">2. There was an increase in land used for dairy farming in Taranaki in the 1860s.</div>
                        <div class="answer-options">
                            <label class="radio-group">
                                <input type="radio" name="q2" value="TRUE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">TRUE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q2" value="FALSE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">FALSE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q2" value="NOT GIVEN">
                                <span class="custom-radio"></span>
                                <span class="radio-label">NOT GIVEN</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-item">
                        <div class="question-number">3. In the 1860s, butter had to be eaten within a few days of being made.</div>
                        <div class="answer-options">
                            <label class="radio-group">
                                <input type="radio" name="q3" value="TRUE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">TRUE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q3" value="FALSE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">FALSE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q3" value="NOT GIVEN">
                                <span class="custom-radio"></span>
                                <span class="radio-label">NOT GIVEN</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-item">
                        <div class="question-number">4. Chew Chong's early stores in Taranaki quickly made a profit.</div>
                        <div class="answer-options">
                            <label class="radio-group">
                                <input type="radio" name="q4" value="TRUE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">TRUE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q4" value="FALSE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">FALSE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q4" value="NOT GIVEN">
                                <span class="custom-radio"></span>
                                <span class="radio-label">NOT GIVEN</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-item">
                        <div class="question-number">5. In the 1880s, Taranaki milk was the same standard each time it was produced.</div>
                        <div class="answer-options">
                            <label class="radio-group">
                                <input type="radio" name="q5" value="TRUE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">TRUE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q5" value="FALSE">
                                <span class="custom-radio"></span>
                                <span class="radio-label">FALSE</span>
                            </label>
                            <label class="radio-group">
                                <input type="radio" name="q5" value="NOT GIVEN">
                                <span class="custom-radio"></span>
                                <span class="radio-label">NOT GIVEN</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <h3 class="question-title">Questions 6-13</h3>
                    <p style="color: var(--gray); font-size: 14px; margin-bottom: 15px;">
                        Complete the notes below. Choose ONE WORD ONLY from the passage for each answer.
                    </p>
                    
                    <div class="question-item">
                        <div class="question-number">6. Chew Chong's 1887 factory was given a significant ________ because of the modern techniques used.</div>
                        <input type="text" class="text-input" name="q6" placeholder="Type your answer here">
                    </div>

                    <div class="question-item">
                        <div class="question-number">7. The factory sold butter covered in ________ for the first time.</div>
                        <input type="text" class="text-input" name="q7" placeholder="Type your answer here">
                    </div>

                    <div class="question-item">
                        <div class="question-number">8. Farmers set up special companies in order to share the ________ from milk sales.</div>
                        <input type="text" class="text-input" name="q8" placeholder="Type your answer here">
                    </div>

                    <div class="question-item">
                        <div class="question-number">9. Many factories were needed because the local ________ were in bad condition.</div>
                        <input type="text" class="text-input" name="q9" placeholder="Type your answer here">
                    </div>

                    <div class="question-item">
                        <div class="question-number">10. Most factories were built of ________ so they were very strong.</div>
                        <input type="text" class="text-input" name="q10" placeholder="Type your answer here">
                    </div>

                    <div class="question-item">
                        <div class="question-number">11. The Tawhiti factory is now a ________.</div>
                        <input type="text" class="text-input" name="q11" placeholder="Type your answer here">
                    </div>

                    <div class="question-item">
                        <div class="question-number">12. The Kaupokonui factory makes equipment for ________.</div>
                        <input type="text" class="text-input" name="q12" placeholder="Type your answer here">
                    </div>

                    <div class="question-item">
                        <div class="question-number">13. The Okato factory once more produces ________.</div>
                        <input type="text" class="text-input" name="q13" placeholder="Type your answer here">
                    </div>
                </div>
            </div>
        </div>

        <div class="submit-section">
            <div style="display: flex; align-items: center; gap: 15px;">
                <button class="btn btn-secondary" onclick="clearAnswers()">
                    <i class="fas fa-eraser"></i> Clear All
                </button>
                <div style="font-size: 14px; color: var(--gray);">
                    <span id="answeredCount">0</span> / 13 answered
                </div>
            </div>
            
            <div style="display: flex; align-items: center; gap: 15px; flex-grow: 1; margin: 0 20px;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <span style="font-size: 14px; color: var(--gray); min-width: 60px;" id="progressPercent">0%</span>
            </div>
            
            <button class="btn btn-primary" onclick="submitTest()">
                <i class="fas fa-paper-plane"></i> Submit Answers
            </button>
        </div>
    </div>

    <!-- Modal for Submission -->
    <div class="modal" id="submitModal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="modal-title">Submit Your Answers?</h2>
            <p class="modal-text">
                Are you sure you want to submit your answers? Once submitted, you cannot make changes.
            </p>
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="hideModal()">
                    <i class="fas fa-edit"></i> Review More
                </button>
                <button class="btn btn-primary" onclick="confirmSubmit()">
                    <i class="fas fa-check"></i> Yes, Submit
                </button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-rocket"></i>
            </div>
            <h2 class="modal-title">Answers Submitted!</h2>
            <p class="modal-text" id="submissionMessage">
                Your answers have been sent to the Telegram group. You can check your answers there.
            </p>
            <div class="modal-buttons">
                <button class="btn btn-primary" onclick="returnToMenu()">
                    <i class="fas fa-home"></i> Back to Menu
                </button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <div>
            <div style="font-weight: 600;" id="notificationTitle">Success</div>
            <div style="font-size: 14px; color: var(--gray);" id="notificationMessage">Operation completed successfully</div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div style="font-family: 'Poppins', sans-serif; font-size: 18px; font-weight: 600; color: var(--dark);">
            Sending to Telegram...
        </div>
        <div style="color: var(--gray); font-size: 14px;">
            Please wait a moment
        </div>
    </div>

    <script>
        // User data
        let currentUser = null;
        let timerInterval = null;
        let timeLeft = 1200; // 20 minutes in seconds
        let currentPassage = 1;
        let isFullTest = false;

        // Passage 1 content
        const passage1Content = `
            <p><strong>READING PASSAGE 1</strong></p>
            <p><em>You should spend about 20 minutes on Questions 1-13, which are based on Reading Passage 1 below.</em></p>
            
            <h3 style="margin: 25px 0 15px 0; color: var(--dark);">Building a New Future</h3>
            <p>As agriculture in New Zealand has changed over time, some buildings once associated with the farming industry have found new uses.</p>
            
            <p>The first European settlers arrived in the Taranaki region of New Zealand in 1841. Their initial aim was not to be dairy farmers - who keep cows for their milk and make dairy products such as butter. In fact, the dense bush was cleared to grow commercial crops of wheat. However, most of the settlers came from the English counties of Devon and Cornwall, where for generations their families had been involved in dairy farming, so it was natural for them to keep cows for domestic purposes. Throughout the 1840s women made butter for their families, and any extra was traded at local stores for other goods that they would normally have needed to pay for. By the 1860s some farmers had recognised that the region's future lay in grasslands for dairy cows, not crops, and new dairy farms were created as a result. At the same time, a corresponding growth in farmhouse butter production led to a surplus, so clever merchants began packing butter in barrels, preserving it either in brine or layers of dry salt so that it would last for up to two months, and sending it to other parts of the country.</p>
            
            <p>One early trader was a Chinese entrepreneur called Chew Chong, whose name is closely linked to dairy farming in Taranaki. He arrived in the area in 1870 via the goldfields of Australia, determined to try something new, namely travelling throughout the district selling essential goods and buying 'Taranaki wool' - a type of edible fungus that was exported to China. Chew Chong opened several stores around Taranaki and began buying excess farmhouse butter, which he packed for resale, even attempting to export it to Australia and England. In 1882, the development of the first refrigerated ships created greater economic potential for the Taranaki dairy farming industry, because it allowed fresh produce to be traded to distant cities. As a result, the first small factories were built in the region in order to process local milk. However, throughout the 1880s the industry was characterised by two particular problems: inconsistent quality control and irregular supply.</p>
            
            <p>In 1887 a new era began when Chew Chong built his own dairy products factory near the town of Eltham. Initially called Riverside, and later Jubilee, Chew Chong's state-of-the-art factory attracted so much admiration that in 1889 he won a prestigious award for its production methods. Jubilee was the first New Zealand dairy factory to install a refrigeration machine, and is believed to have been the first to produce rectangular blocks of butter weighing 1 pound (0.45 kilograms) and to wrap them in paper, also making it possible for the place of origin to be shown.</p>
            
            <p>In the 1890s, with prospects for the dairy industry looking better and better, Taranaki farmers began to form special companies called 'cooperatives', which gave each of them a larger proportion of the profits made by the industry as a whole. By the early 1900s, the cooperative system dominated the industry, forcing the closure of some smaller independent factories like Jubilee in 1901. Another factor influencing development was that the roads in the area were very rough and badly maintained, so factories were located every few kilometres, becoming the focus of rural communities. From the early 1900s onwards, these factories were constructed in concrete, so the structures were solid and practical, making them ideally suited for industrial or agricultural enterprises.</p>
            
            <p>The decline of Taranaki's small dairy factories has been long and slow. As technology improved, dairy cooperative companies joined together until, by 1992, only a single large factory survived in the region. Some of those that closed have been demolished, while many are used for other purposes. The factory at Tawhiti, for example, closed in 1967 and was subsequently bought by a local artist. Today the building houses an acclaimed museum, where artworks and artefacts jointly depict aspects of Taranaki history. Further around the coast, the Kaupokonui factory had been one of the most successful dairy cooperatives in the country until a merger in 1962 saw the building closed. Soon afterwards, however, the complex became the base for an international company manufacturing natural gut strings for tennis racquets. The company continues to provide employment for locals, and the buildings have not undergone any significant alterations.</p>
            
            <p>While other Taranaki factories are today used for substantially different purposes from milk processing, the Okato factory recently returned to its original function. The factory closed in 1985 and was subsequently used as a youth hostel and an entertainment venue. Then in late 2009, Organic Dairy Ltd. again started to manufacture cheese on the site. A new multi-million dollar plant was built, and once again milk tankers call daily to supply the raw materials. So for at least one of Taranaki's old dairy factories, it seems things have come full circle.</p>
        `;

        // Login function
        function login() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            
            if (!username || !email) {
                showNotification('Please enter your name and email', 'error');
                return;
            }
            
            currentUser = {
                name: username,
                email: email,
                avatar: username.charAt(0).toUpperCase()
            };
            
            // Update user info
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userAvatar').textContent = currentUser.avatar;
            
            // Show main menu with animation
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('mainMenu').style.display = 'block';
            setTimeout(() => {
                document.getElementById('mainMenu').style.opacity = '1';
            }, 10);
            
            showNotification(`Welcome, ${currentUser.name}!`, 'success');
        }

        // Show main menu
        function showMainMenu() {
            hideAllSections();
            document.getElementById('mainMenu').classList.remove('hidden');
        }

        // Show passage selection
        function showPassageSelection() {
            hideAllSections();
            document.getElementById('passageSelection').classList.remove('hidden');
        }

        // Start individual passage
        function startPassage(passageNumber) {
            currentPassage = passageNumber;
            isFullTest = false;
            timeLeft = 1200; // 20 minutes
            
            // Set passage title
            const titles = {
                1: 'Building a New Future',
                2: 'The History of Glass',
                3: 'Climate Change & Coral Reefs'
            };
            document.getElementById('passageTitle').textContent = titles[passageNumber];
            
            // Load passage content
            if (passageNumber === 1) {
                document.getElementById('passageText').innerHTML = passage1Content;
            } else {
                document.getElementById('passageText').innerHTML = `
                    <h3 style="margin: 25px 0 15px 0; color: var(--dark);">${titles[passageNumber]}</h3>
                    <p><em>Passage ${passageNumber} content will be displayed here in the full version.</em></p>
                    <p>This is a placeholder for Passage ${passageNumber}. In the complete application, this would contain the actual reading passage text.</p>
                `;
            }
            
            hideAllSections();
            document.getElementById('readingInterface').classList.remove('hidden');
            
            // Clear previous answers
            clearAnswers();
            
            // Start timer
            startTimer();
            
            // Update progress
            updateProgress();
        }

        // Start full reading test
        function startFullReading() {
            isFullTest = true;
            timeLeft = 3600; // 60 minutes for full test
            
            document.getElementById('passageTitle').textContent = 'Full Reading Test (3 Passages)';
            
            // For demo, show passage 1 only
            document.getElementById('passageText').innerHTML = passage1Content + `
                <hr style="margin: 40px 0; border: 1px solid var(--light-gray);">
                <h3 style="margin: 25px 0 15px 0; color: var(--dark);">Passage 2 & 3 would appear here</h3>
                <p><em>In the full test, all three passages would be displayed here for you to read.</em></p>
            `;
            
            hideAllSections();
            document.getElementById('readingInterface').classList.remove('hidden');
            
            // Clear previous answers
            clearAnswers();
            
            // Start timer
            startTimer();
            
            // Update progress
            updateProgress();
            
            showNotification('Full reading test started! 60 minutes remaining.', 'success');
        }

        // Timer functions
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showNotification('Time is up! Submitting your answers...', 'error');
                    setTimeout(() => submitTest(), 2000);
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('timeDisplay').textContent = timeString;
            
            // Update timer color based on remaining time
            const timerElement = document.getElementById('timer');
            timerElement.classList.remove('warning', 'danger');
            
            if (isFullTest) {
                if (timeLeft < 600) timerElement.classList.add('danger');
                else if (timeLeft < 1200) timerElement.classList.add('warning');
            } else {
                if (timeLeft < 300) timerElement.classList.add('danger');
                else if (timeLeft < 600) timerElement.classList.add('warning');
            }
        }

        // Update progress
        function updateProgress() {
            let answered = 0;
            const total = 13;
            
            // Check radio buttons (questions 1-5)
            for (let i = 1; i <= 5; i++) {
                const radios = document.querySelectorAll(`input[name="q${i}"]`);
                for (let radio of radios) {
                    if (radio.checked) {
                        answered++;
                        break;
                    }
                }
            }
            
            // Check text inputs (questions 6-13)
            for (let i = 6; i <= 13; i++) {
                const input = document.querySelector(`input[name="q${i}"]`);
                if (input && input.value.trim()) {
                    answered++;
                }
            }
            
            const percentage = Math.round((answered / total) * 100);
            
            document.getElementById('answeredCount').textContent = answered;
            document.getElementById('progressPercent').textContent = `${percentage}%`;
            document.getElementById('progressFill').style.width = `${percentage}%`;
        }

        // Clear all answers
        function clearAnswers() {
            // Clear radio buttons
            for (let i = 1; i <= 5; i++) {
                const radios = document.querySelectorAll(`input[name="q${i}"]`);
                radios.forEach(radio => radio.checked = false);
            }
            
            // Clear text inputs
            for (let i = 6; i <= 13; i++) {
                const input = document.querySelector(`input[name="q${i}"]`);
                if (input) input.value = '';
            }
            
            updateProgress();
            showNotification('All answers cleared', 'success');
        }

        // Submit test
        function submitTest() {
            document.getElementById('submitModal').style.display = 'flex';
        }

        function hideModal() {
            document.getElementById('submitModal').style.display = 'none';
        }

        function confirmSubmit() {
            hideModal();
            document.getElementById('loading').classList.add('show');
            
            // Collect answers
            const answers = {};
            for (let i = 1; i <= 13; i++) {
                if (i <= 5) {
                    const selected = document.querySelector(`input[name="q${i}"]:checked`);
                    answers[`q${i}`] = selected ? selected.value : 'NOT ANSWERED';
                } else {
                    const input = document.querySelector(`input[name="q${i}"]`);
                    answers[`q${i}`] = input ? input.value.trim() || 'NOT ANSWERED' : 'NOT ANSWERED';
                }
            }
            
            // Prepare submission data
            const submissionData = {
                user: currentUser,
                passage: currentPassage,
                isFullTest: isFullTest,
                timeSpent: isFullTest ? (3600 - timeLeft) : (1200 - timeLeft),
                answers: answers,
                timestamp: new Date().toISOString()
            };
            
            // Send to Telegram via API
            sendToTelegram(submissionData);
        }

        // Send answers to Telegram
        async function sendToTelegram(data) {
            try {
                // Replace with your actual Telegram bot token and chat ID
                const TELEGRAM_BOT_TOKEN = 'YOUR_BOT_TOKEN_HERE';
                const TELEGRAM_CHAT_ID = 'YOUR_CHAT_ID_HERE';
                
                // Format message for Telegram
                let message = ` *IELTS Reading Test Submission*\n\n`;
                message += ` *Student:* ${data.user.name}\n`;
                message += ` *Email:* ${data.user.email}\n`;
                message += ` *Passage:* ${data.isFullTest ? 'Full Test' : `Passage ${data.passage}`}\n`;
                message += ` *Time Spent:* ${Math.floor(data.timeSpent / 60)}:${(data.timeSpent % 60).toString().padStart(2, '0')}\n\n`;
                message += ` *Answers:*\n`;
                
                // Add answers
                for (let i = 1; i <= 13; i++) {
                    const answer = data.answers[`q${i}`];
                    message += `${i}. ${answer}\n`;
                }
                
                message += `\n *Submitted at:* ${new Date().toLocaleString()}`;
                
                // For demo purposes, we'll simulate API call
                // In production, uncomment the fetch code and add your bot token
                
                /*
                const response = await fetch('/api/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        botToken: TELEGRAM_BOT_TOKEN,
                        chatId: TELEGRAM_CHAT_ID,
                        message: message
                    })
                });
                
                if (!response.ok) {
                    throw new Error('Failed to send to Telegram');
                }
                */
                
                // Simulate API delay
                setTimeout(() => {
                    document.getElementById('loading').classList.remove('show');
                    document.getElementById('successModal').style.display = 'flex';
                    
                    // For demo, show the message that would be sent
                    console.log('Telegram message:', message);
                    showNotification('Answers sent to Telegram successfully!', 'success');
                }, 1500);
                
            } catch (error) {
                console.error('Error sending to Telegram:', error);
                document.getElementById('loading').classList.remove('show');
                showNotification('Failed to send answers. Please try again.', 'error');
            }
        }

        // Return to menu after submission
        function returnToMenu() {
            document.getElementById('successModal').style.display = 'none';
            if (timerInterval) clearInterval(timerInterval);
            showMainMenu();
        }

        // Exit reading interface
        function exitReading() {
            if (confirm('Are you sure you want to exit? Your progress will be lost.')) {
                if (timerInterval) clearInterval(timerInterval);
                showMainMenu();
            }
        }

        // Hide all sections
        function hideAllSections() {
            const sections = ['mainMenu', 'passageSelection', 'readingInterface'];
            sections.forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const title = document.getElementById('notificationTitle');
            const msg = document.getElementById('notificationMessage');
            
            notification.classList.remove('error');
            if (type === 'error') {
                notification.classList.add('error');
                title.textContent = 'Error';
            } else {
                title.textContent = 'Success';
            }
            
            msg.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Add event listeners for progress tracking
        document.addEventListener('DOMContentLoaded', function() {
            // Add change listeners to all inputs
            for (let i = 1; i <= 5; i++) {
                const radios = document.querySelectorAll(`input[name="q${i}"]`);
                radios.forEach(radio => {
                    radio.addEventListener('change', updateProgress);
                });
            }
            
            for (let i = 6; i <= 13; i++) {
                const input = document.querySelector(`input[name="q${i}"]`);
                if (input) {
                    input.addEventListener('input', updateProgress);
                }
            }
            
            // Add Enter key support for login
            document.getElementById('username').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') login();
            });
            
            document.getElementById('email').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') login();
            });
        });
    </script>
</body>
</html>
